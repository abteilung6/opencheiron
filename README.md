# opencheiron

## Getting started

Set environment variables

```shell
export POSTGRES_SERVER=localhost
export POSTGRES_USER=postgres
export POSTGRES_PASSWORD=postgres
export POSTGRES_DB=postgres
export CELERY_BROKER_URL=redis://localhost:6379/0
```

Run the live server:

```shell
uvicorn main:app --reload
```

## Development

### Database migrations

Create a new autogenerated migration

```shell
alembic revision --autogenerate -m "Create service table"
```

Apply the most recent migrations

```shell
alembic upgrade head
```

## Concurrent workers

Spawn a celery worker

```shell
celery --app worker.celery worker --loglevel=info
```
